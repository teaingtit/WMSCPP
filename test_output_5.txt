
> my-wms-app@0.1.0 test:unit
> vitest schema-version-actions.test.ts bulk-schema-actions.test.ts VisualSchemaDesigner.test.tsx --run


[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90mC:/Users/nteai/Desktop/project/WMSCPP[39m

 [31mÎ“Â¥Â»[39m test/actions/schema-version-actions.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 12[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m should retrieve schema history for a category[39m[32m 7[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should return empty array for category with no history[32m 0[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should create a new schema version[32m 0[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should auto-increment version number[32m 0[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should revert to a previous version by creating a new version[32m 0[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should fail if target version does not exist[32m 0[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should compare two schema versions and return differences[32m 1[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m should detect removed fields[39m[32m 1[2mms[22m[39m
 [32mÎ“Â£Ã´[39m test/actions/bulk-schema-actions.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mÎ“Â£Ã´[39m test/components/VisualSchemaDesigner.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[32m 120[2mms[22m[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 2 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  test/actions/schema-version-actions.test.ts > Schema Version Actions > getSchemaHistory > should retrieve schema history for a category
AssertionError: expected 1 to be 2 // Object.is equality

- Expected
+ Received

- 2
+ 1

 Î“Â¥Â» test/actions/schema-version-actions.test.ts:103:44
    101|             expect(result.success).toBe(true);
    102|             expect(result.data).toHaveLength(2);
    103|             expect(result.data[0].version).toBe(2);
       |                                            ^
    104|             expect(result.data[1].version).toBe(1);
    105|         });

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/2]Î“Ã„Â»

 FAIL  test/actions/schema-version-actions.test.ts > Schema Version Actions > compareSchemaVersions > should detect removed fields
AssertionError: expected [] to have a length of 1 but got +0

- Expected
+ Received

- 1
+ 0

 Î“Â¥Â» test/actions/schema-version-actions.test.ts:187:41
    185| 
    186|             expect(result.success).toBe(true);
    187|             expect(result.diff.removed).toHaveLength(1);
       |                                         ^
    188|             expect(result.diff.removed[0].key).toBe('expiry');
    189|         });

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[2/2]Î“Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (3)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m21 passed[39m[22m[90m (23)[39m
[2m   Start at [22m 11:02:01
[2m   Duration [22m 3.64s[2m (transform 172ms, setup 251ms, import 297ms, tests 135ms, environment 1.55s)[22m

